# è§„åˆ™

## é…ç½®è§„åˆ™

ESLint å†…ç½®äº†å¤§é‡è§„åˆ™ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ’ä»¶æ·»åŠ æ›´å¤šè§„åˆ™ã€‚æ‚¨å¯ä»¥ä½¿ç”¨é…ç½®æ³¨é‡Šæˆ–é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹é¡¹ç›®ä½¿ç”¨çš„è§„åˆ™ã€‚è¦æ›´æ”¹è§„åˆ™è®¾ç½®ï¼Œæ‚¨å¿…é¡»å°†è§„åˆ™ ID è®¾ç½®ä¸ºä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š

- `"off"`æˆ–`0`- å…³é—­è§„åˆ™
- `"warn"`æˆ–`1`- æ‰“å¼€è§„åˆ™ä½œä¸ºè­¦å‘Šï¼ˆä¸å½±å“é€€å‡ºä»£ç ï¼‰
- `"error"`æˆ–`2`- å°†è§„åˆ™ä½œä¸ºé”™è¯¯æ‰“å¼€ï¼ˆè§¦å‘æ—¶é€€å‡ºä»£ç ä¸º 1ï¼‰

### ä½¿ç”¨é…ç½®æ³¨é‡Š

è¦ä½¿ç”¨é…ç½®æ³¨é‡Šåœ¨æ–‡ä»¶å†…é…ç½®è§„åˆ™ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼çš„æ³¨é‡Šï¼š

```js
/* eslint eqeqeq: "off", curly: "error" */
```

åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ[`eqeqeq`](https://eslint.org/docs/latest/rules/eqeqeq) å…³é—­å¹¶ [`curly`](https://eslint.org/docs/latest/rules/curly) ä½œä¸ºé”™è¯¯æ‰“å¼€ã€‚æ‚¨è¿˜å¯ä»¥å¯¹è§„åˆ™ä¸¥é‡æ€§ä½¿ç”¨æ•°å­—ç­‰ä»·ç‰©ï¼š

```js
/* eslint eqeqeq: 0, curly: 2 */
```

æ­¤ç¤ºä¾‹ä¸ä¸Šä¸€ä¸ªç¤ºä¾‹ç›¸åŒï¼Œåªæ˜¯å®ƒä½¿ç”¨æ•°å­—ä»£ç è€Œä¸æ˜¯å­—ç¬¦ä¸²å€¼ã€‚è§„åˆ™å·²`eqeqeq`å…³é—­ä¸”`curly`è§„åˆ™è®¾ç½®ä¸ºé”™è¯¯ã€‚

å¦‚æœè§„åˆ™æœ‰å…¶ä»–é€‰é¡¹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ•°ç»„æ–‡å­—è¯­æ³•æŒ‡å®šå®ƒä»¬ï¼Œä¾‹å¦‚ï¼š

```js
/* eslint quotes: ["error", "double"], curly: 2 */
```

æ­¤æ³¨é‡ŠæŒ‡å®š [`quotes`](https://eslint.org/docs/latest/rules/quotes) è§„åˆ™çš„â€œåŒé‡â€é€‰é¡¹ã€‚æ•°ç»„ä¸­çš„ç¬¬ä¸€é¡¹å§‹ç»ˆæ˜¯è§„åˆ™ä¸¥é‡æ€§ï¼ˆæ•°å­—æˆ–å­—ç¬¦ä¸²ï¼‰ã€‚

é…ç½®æ³¨é‡Šå¯ä»¥åŒ…æ‹¬è¯´æ˜ä¸ºä»€ä¹ˆéœ€è¦æ³¨é‡Šã€‚`-`æè¿°å¿…é¡»å‡ºç°åœ¨é…ç½®ä¹‹åï¼Œå¹¶ä¸”ç”±ä¸¤ä¸ªæˆ–å¤šä¸ªè¿ç»­å­—ç¬¦ä¸é…ç½®åˆ†å¼€ã€‚ä¾‹å¦‚ï¼š

```js
/* eslint eqeqeq: "off", curly: "error" -- Here's a description about why this configuration is necessary. */
/* eslint eqeqeq: "off", curly: "error"
    --------
    Here's a description about why this configuration is necessary. */
/* eslint eqeqeq: "off", curly: "error"
 * --------
 * This will not work due to the line above starting with a '*' character.
 */
```

### ä½¿ç”¨é…ç½®æ–‡ä»¶

è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è§„åˆ™ï¼Œè¯·ä½¿ç”¨`rules`å¯†é’¥ä»¥åŠé”™è¯¯çº§åˆ«å’Œæ‚¨è¦ä½¿ç”¨çš„ä»»ä½•é€‰é¡¹ã€‚ä¾‹å¦‚ï¼š

```json
{
    "rules": {
        "eqeqeq": "off",
        "curly": "error",
        "quotes": ["error", "double"]
    }
}
```

åœ¨ YAML ä¸­ï¼š

```yaml
---
rules:
  eqeqeq: off
  curly: error
  quotes:
    - error
    - double
```

è¦é…ç½®åœ¨æ’ä»¶ä¸­å®šä¹‰çš„è§„åˆ™ï¼Œæ‚¨å¿…é¡»åœ¨è§„åˆ™ ID å‰åŠ ä¸Šæ’ä»¶åç§°å’Œ`/`. ä¾‹å¦‚ï¼š

```json
{
    "plugins": [
        "plugin1"
    ],
    "rules": {
        "eqeqeq": "off",
        "curly": "error",
        "quotes": ["error", "double"],
        "plugin1/rule1": "error"
    }
}
```

åœ¨ YAML ä¸­ï¼š

```yaml
---
plugins:
  - plugin1
rules:
  eqeqeq: 0
  curly: error
  quotes:
    - error
    - "double"
  plugin1/rule1: error
```

åœ¨è¿™äº›é…ç½®æ–‡ä»¶ä¸­ï¼Œè§„åˆ™`plugin1/rule1`æ¥è‡ªåä¸º`plugin1`. æ‚¨è¿˜å¯ä»¥å°†æ­¤æ ¼å¼ä¸é…ç½®æ³¨é‡Šä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š

```js
/* eslint "plugin1/rule1": "error" */
```

**æ³¨æ„ï¼š** ä»æ’ä»¶ä¸­æŒ‡å®šè§„åˆ™æ—¶ï¼Œè¯·ç¡®ä¿çœç•¥`eslint-plugin-`. ESLint åœ¨å†…éƒ¨ä»…ä½¿ç”¨æ— å‰ç¼€åç§°æ¥å®šä½è§„åˆ™ã€‚

## ç¦ç”¨è§„åˆ™

### ä½¿ç”¨é…ç½®æ³¨é‡Š

è¦æš‚æ—¶ç¦ç”¨æ–‡ä»¶ä¸­çš„è§„åˆ™è­¦å‘Šï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼çš„å—æ³¨é‡Šï¼š

```js
/* eslint-disable */

alert('foo');

/* eslint-enable */
```

âš ï¸æ³¨æ„è¿™é‡Œç¦ç”¨å’Œå¼€å¯å¿…é¡»æ˜¯åœ¨ rules é‡Œé¢å¼€å¯è¿‡åæ‰èƒ½é€‰æ‹©åœ¨æ³¨é‡Šè¿›è¡Œå¼€å¯æˆ–è€…å…³é—­

æ‚¨è¿˜å¯ä»¥ç¦ç”¨æˆ–å¯ç”¨ç‰¹å®šè§„åˆ™çš„è­¦å‘Šï¼š

```js
/* eslint-disable no-alert, no-console */

alert('foo');
console.log('bar');

/* eslint-enable no-alert, no-console */
```

**æ³¨æ„ï¼š** `/* eslint-enable */`æ²¡æœ‰åˆ—å‡ºä»»ä½•ç‰¹å®šè§„åˆ™å°†å¯¼è‡´æ‰€æœ‰ç¦ç”¨çš„è§„åˆ™é‡æ–°å¯ç”¨ã€‚

è¦åœ¨æ•´ä¸ªæ–‡ä»¶ä¸­ç¦ç”¨è§„åˆ™è­¦å‘Šï¼Œè¯·åœ¨æ–‡ä»¶`/* eslint-disable */`é¡¶éƒ¨æ·»åŠ å—æ³¨é‡Šï¼š

```js
/* eslint-disable */

alert('foo');
```

æ‚¨è¿˜å¯ä»¥ç¦ç”¨æˆ–å¯ç”¨æ•´ä¸ªæ–‡ä»¶çš„ç‰¹å®šè§„åˆ™ï¼š

```js
/* eslint-disable no-alert */

alert('foo');
```

ç¡®ä¿æ°¸è¿œä¸ä¼šåº”ç”¨è§„åˆ™ï¼ˆæ— è®ºå°†æ¥æœ‰ä»»ä½•å¯ç”¨/ç¦ç”¨è¡Œï¼‰ï¼š

```js
/* eslint no-alert: "off" */

alert('foo');
```

è¦ç¦ç”¨ç‰¹å®šè¡Œä¸Šçš„æ‰€æœ‰è§„åˆ™ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ä¹‹ä¸€çš„è¡Œæˆ–å—æ³¨é‡Šï¼š

```js
alert('foo'); // eslint-disable-line

// eslint-disable-next-line
alert('foo');

/* eslint-disable-next-line */
alert('foo');

alert('foo'); /* eslint-disable-line */
```

è¦ç¦ç”¨ç‰¹å®šè¡Œä¸Šçš„ç‰¹å®šè§„åˆ™ï¼š

```js
alert('foo'); // eslint-disable-line no-alert

// eslint-disable-next-line no-alert
alert('foo');

alert('foo'); /* eslint-disable-line no-alert */

/* eslint-disable-next-line no-alert */
alert('foo');
```

è¦ç¦ç”¨ç‰¹å®šè¡Œä¸Šçš„å¤šä¸ªè§„åˆ™ï¼š

```js
alert('foo'); // eslint-disable-line no-alert, quotes, semi

// eslint-disable-next-line no-alert, quotes, semi
alert('foo');

alert('foo'); /* eslint-disable-line no-alert, quotes, semi */

/* eslint-disable-next-line no-alert, quotes, semi */
alert('foo');

/* eslint-disable-next-line
  no-alert,
  quotes,
  semi
*/
alert('foo');
```

ä»¥ä¸Šæ‰€æœ‰æ–¹æ³•ä¹Ÿé€‚ç”¨äºæ’ä»¶è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œè¦ç¦ç”¨`eslint-plugin-example`çš„`rule-name`è§„åˆ™ï¼Œè¯·å°†æ’ä»¶çš„åç§° ( `example`) å’Œè§„åˆ™çš„åç§° ( `rule-name`) ç»„åˆæˆ`example/rule-name`ï¼š

```js
foo(); // eslint-disable-line example/rule-name
foo(); /* eslint-disable-line example/rule-name */
```

é…ç½®æ³¨é‡Šå¯ä»¥åŒ…æ‹¬è¯´æ˜ä¸ºä»€ä¹ˆéœ€è¦æ³¨é‡Šã€‚æè¿°å¿…é¡»åœ¨é…ç½®ä¹‹åï¼Œå¹¶ä¸”éœ€è¦ä¸é…ç½®ç›¸éš”ä¸¤ä¸ªæˆ–å¤šä¸ªè¿ç»­`-`å­—ç¬¦ã€‚ä¾‹å¦‚ï¼š

```js
// eslint-disable-next-line no-console -- Here's a description about why this configuration is necessary.
console.log('hello');

/* eslint-disable-next-line no-console --
 * Here's a very long description about why this configuration is necessary
 * along with some additional information
**/
console.log('hello');
```

**æ³¨æ„ï¼š** ä¸ºæ–‡ä»¶çš„ä¸€éƒ¨åˆ†ç¦ç”¨è­¦å‘Šçš„æ³¨é‡Šå‘Šè¯‰ ESLint ä¸è¦æŠ¥å‘Šç¦ç”¨ä»£ç çš„è§„åˆ™è¿è§„ã€‚ç„¶è€Œï¼ŒESLint ä»ç„¶è§£ææ•´ä¸ªæ–‡ä»¶ï¼Œå› æ­¤ç¦ç”¨çš„ä»£ç ä»ç„¶éœ€è¦æ˜¯è¯­æ³•ä¸Šæœ‰æ•ˆçš„ JavaScriptã€‚

### ä½¿ç”¨é…ç½®æ–‡ä»¶

è¦åœ¨ä¸€ç»„æ–‡ä»¶çš„é…ç½®æ–‡ä»¶ä¸­ç¦ç”¨è§„åˆ™ï¼Œè¯·ä½¿ç”¨`overrides`é”®å’Œ`files`é”®ã€‚ä¾‹å¦‚ï¼š

```json
{
  "rules": {...},
  "overrides": [
    {
      "files": ["*-test.js","*.spec.js"],
      "rules": {
        "no-unused-expressions": "off"
      }
    }
  ]
}
```

### ç¦ç”¨å†…è”æ³¨é‡Š

è¦ç¦ç”¨æ‰€æœ‰å†…è”é…ç½®æ³¨é‡Šï¼Œè¯·ä½¿ç”¨è¯¥`noInlineConfig`è®¾ç½®ã€‚ä¾‹å¦‚ï¼š

```json
{
  "rules": {...},
  "noInlineConfig": true
}
```

æ­¤è®¾ç½®ç±»ä¼¼äº [â€“no-inline-config](https://eslint.org/docs/latest/user-guide/command-line-interface#--no-inline-config) CLI é€‰é¡¹ã€‚

#### æŠ¥å‘Šæœªä½¿ç”¨çš„`eslint-disable`è¯„è®º

è¦æŠ¥å‘Šæœªä½¿ç”¨`eslint-disable`çš„è¯„è®ºï¼Œè¯·ä½¿ç”¨è¯¥`reportUnusedDisableDirectives`è®¾ç½®ã€‚ä¾‹å¦‚ï¼š

```json
{
  "rules": {...},
  "reportUnusedDisableDirectives": true
}
```

æ­¤è®¾ç½®ç±»ä¼¼äº [â€“report-unused-disable-directives](https://eslint.org/docs/latest/user-guide/command-line-interface#--report-unused-disable-directives) CLI é€‰é¡¹ï¼Œä½†ä¸ä¼šå¯¼è‡´ linting å¤±è´¥ï¼ˆæŠ¥å‘Šä¸º`"warn"`ä¸¥é‡æ€§ï¼‰ã€‚

## å®æˆ˜

ç›®æ ‡ ï¼š ä¸å…è®¸ä½¿ç”¨ alert()

```json
{
    "env": {
        "browser": true,
        "es2021": true
    },
    "extends": "eslint:recommended",
    "parserOptions": {
        "ecmaVersion": "latest"
    },
    "rules": {
        "indent":[
            "error",
            2
        ],
        "linebreak-style":[
            "error",
            "unix"
        ],
        "quotes":[
            "error",
            "single"
        ],
        "semi":[
            "error",
            "never"
        ],
        "no-alert":"error" //ğŸ‘ˆ
    }
}
```

![image-20220626174647604](https://tva1.sinaimg.cn/large/e6c9d24egy1h3lsg5t0ksj20pg0a2wev.jpg)